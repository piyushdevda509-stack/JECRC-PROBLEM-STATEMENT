{% extends "base.html" %}
{% block content %}
<div class="form-container">
    <div class="card">
        <h2>âž• Add Problem</h2>
        <form method="POST" class="form-grid">
            <div class="form-group">
                <label>Title</label>
                <input type="text" name="title" required>
            </div>

            <div class="form-group">
                <label>Description</label>
                <textarea name="description" required></textarea>
            </div>

            <div class="form-group">
                <label>Skill</label>
                <input type="text" name="skill" required>
            </div>

            <div class="form-group">
                <label>Category</label>
                <input type="text" name="category" required>
            </div>

            <div class="form-group">
                <label>Branch</label>
                <input type="text" name="branch" required>
            </div>

            <div class="form-group">
                <label>External Link</label>
                <input type="url" name="external_link" placeholder="https://example.com">
            </div>

            <div class="form-group">
                <label>Created By (Name)</label>
                <input type="text" name="created_by_name" required>
            </div>

            <div class="form-group">
                <label>Created By (Roll No)</label>
                <input type="text" name="created_by_roll" required>
            </div>

            <div class="form-group">
                <label>Created By (Branch)</label>
                <input type="text" name="created_by_branch" required>
            </div>

            <div class="form-group">
                <label>Created By (Batch)</label>
                <input type="text" name="created_by_batch" required>
            </div>

            <button type="submit" class="btn">Add Problem</button>
        </form>
    </div>
</div>

<hr>

<div class="problems-list card">
    <h2>ðŸ“‹ Existing Problems</h2>
    <table class="styled-table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Skill</th>
                <th>Category</th>
                <th>Branch</th>
                <th>Created By</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for p in problems %}
            <tr>
                <td>{{ p['title'] }}</td>
                <td>{{ p['skill'] }}</td>
                <td>{{ p['category'] }}</td>
                <td>{{ p['branch'] }}</td>
                <td>{{ p['created_by_name'] }} ({{ p['created_by_roll'] }})</td>
                <td>
                    <a href="{{ url_for('admin_view_problem', problem_id=p['id']) }}" class="btn-small">View</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
